        1	+//      
	2	+// navigation2.js
	3	+//
	4	+
	5	+
	6	+
	7	+
	8	+       var score= 0;
	9	+       var currentLocation=0;
	10	+       //var north= false;
	11	+       //var south= false;
	12	+       //var east= false;
	13	+       //var west= false;
	14	+       var locationArray = new Array();
	15	+       locationArray[0] = 0;
	16	+       
	17	+       var blocked="You can't go this way!";
	18	+        
	19	+        function btn_go_click()
	20	+        {
	21	+            
	22	+            var input = document.getElementById("input").value;
	23	+            input = input.toLowerCase();
	24	+            if(input=="north" || input=="south" || input=="east" || input=="west" || input=="n" || input=="s" || input=="e" || input=="w")  
	25	+            {
	26	+                //alert(input);
	27	+                processLocation(input);
	28	
           }
	                  }
	      
                                             function makeMatrix() {
                                          // var M = new Array("Alan", undefined, undefined, "Andrew");
                                             var M = new Array[undefined, undefined, undefined, 2112];
                                                                undefined,
                                                                undefined,
                                                                 2112
                                              );  
                                                function loadNav() {        //   N         S         E         W
                                                /*  0  */    nav[0]   =  [   100,      102,      101,      103   ];
                                                /* 100 */    nav[100] =  [    -1,        0,       -1,       -1   ];
                                                /* 101 */    nav[101] =  [    -1,       -1,       -1,        0   ];
                                                /* 102 */    nav[102] =  [     0,      107,       -1,       -1   ];
                                                /* 103 */    nav[103] =  [    -1,       -1,        0,      104   ];
                                                /* 104 */    nav[104] =  [   105,      106,      103,       -1   ];
                                                /* 105 */    nav[105] =  [    -1,      104,       -1,       -1   ];
                                                /* 106 */    nav[106] =  [   104,       -1,       -1,       -1   ];
                                                /* 107 */    nav[107] =  [   102,      110,      109,      108   ];
                                                /* 108 */    nav[108] =  [    -1,       -1,      107,       -1   ];
                                                /* 109 */    nav[109] =  [    -1,       -1,       -1,      107   ];
                                                /* 110 */    nav[110] =  [   107,       -1,       -1,       -1   ];
                                     }
                            
                                            function move(direction) {
                                            var newLocation = nav[currentLocation][direction];
                                            if (newLocation !== -1) {
                                            currentLocation = newLocation;
                                            updateText(allLocations[currentLocation].description);
                                    } else {
                                            updateText("you cannot go that way");
                                           }
                                    }






                              /* function processLocation(direction)
	32	+        {
	33	+            if (direction=="take")
	34	+		{
	35	+			inventory[itemCount] = loc[currentLocation].item;
	36	+			itemCount++;
	37	+		}
	38	+		//alert(direction)
	39	+            else if (direction=="north" || direction=="n")
	40	+            {
	41	+                switch(currentLocation){
	42	+		case 0:
	43	+                    enable_buttons();
	44	+                    currentLocation=1;
	45	+                    updateText(loc[1].description);
	46	+                    var northButton=document.getElementById("north_button");
	47	+                    northButton.disabled="disabled";
	48	+                    var eastButton=document.getElementById("east_button");
	49	+                    eastButton.disabled="disabled";
	50	+                    var westButton=document.getElementById("west_button");
	51	+                    westButton.disabled="disabled";
	52	+                break;    
	53	+                                
	54	+                case 4:
	55	+                    enable_buttons();
	56	+                    currentLocation=0;
	57	+                    //location0();
	58	+                    updateText(loc[0].description);
	59	+		break;
	60	+                                
	61	+		case 3:
	62	+                    enable_buttons();
	63	+                    currentLocation=6;
	64	+                    //location6 ();
	65	+                    updateText(loc[6].description);
	66	+                    var northButton=document.getElementByID("north_button");
	67	+                    northButton.disabled="diabled";
	68	+                    var eastButton=document.getElementById("east_button");
	69	+                    eastButton.disabled="disabled";
	70	+                    var westButton=document.getElementById("west_button");
	71	+                    westButton.disabled="disabled";
	72	+		break;
	73	+                               
	74	+		case 7:
	75	+                    enable_buttons();
	76	+                    currentLocation=5;
	77	+                    updateText(loc[5].description);
	78	+                    //location5 ();
	79	+                    var northButton=document.getElementByID("north_button");
	80	+                    northButton.disabled="diabled";
	81	+                    var westButton=document.getElementById("west_button");
	82	+                    westButton.disabled="disabled";
	83	+		 break;
	84	+ 
	85	+                 case 8:
	86	+                     enable_buttons();
	87	+                     currentLocation=9;
	88	+                     updateText(loc[9].description);
	89	+                     //location9 ();
	90	+                     var westButton=document.getElementByID("west_button");
	91	+                     west.button.disabled="disabled";
	92	+                     var eastButton=document.getElementByID("east_button");
	93	+                     eastButton.disabled="disabled";
	94	+                  break;
	95	+ 
	96	+                 case 9:
	97	+                     enable_buttons();
	98	+                     currentLocation=2;
	99	+                     updateText(loc[2].description);
	100	+                     //location2 ();
	101	+                     var northButton=document.getElementByID("north_button");
	102	+                     north.button.disabled="disabled";
	103	+                  break;
	104	+                     
	105	+                default:    updateDisplay(blocked);        
	106	+                }    
	107	+
	108	+            }
	109	+            else if(direction=="south" || direction=="s")
	110	+            {
	111	+                 switch(currentLocation){
	112	+                 case 0:
	113	+                     enable_buttons();
	114	+                     currentLocation=4;
	115	+                     updateText(loc[4].description);
	116	+                     location4 ();
	117	+                     var southButton=document.getElementById("south_button");
	118	+                     southButton.disabled="disabled";
	119	+                     var eastButton=document.getElementById("east_button");
	120	+                     eastButton.disabled="disabled";
	121	+                break;
	122	+                
	123	+                
	124	+                case 1:
	125	+                    enable_buttons();
	126	+                    currentLocation=0;
	127	+                    updateText(loc[0].description); 
	128	+                    //location0 ();
	129	+                break;
	130	+
	131	+                case 6:
	132	+                     enable_buttons();
	133	+                     currentLocation=3;
	134	+                     updateText(loc[3].description);
	135	+                     //location3 ();
	136	+                     var westButton=document.getElementById("west_button");
	137	+                     westButton.disabled="disabled";
	138	+                     var southButton=document.getElementById("south_button");
	139	+                     southButton.disabled="disabled";
	140	+                break;
	141	+                    
	142	+                case 5:
	143	+                     enable_buttons();
	144	+                     currentLocation=7;
	145	+                     updateText(loc[7].description);
	146	+                     //location7 ();
	147	+                     var westButton=document.getElementById("west_button");
	148	+                     westButton.disabled="disabled";
	149	+                     var southButton=document.getElementById("south_button");
	150	+                     southButton.disabled="disabled";
	151	+                     var eastButton=document.getElementById("east_button");
	152	+                     eastButton.disabled="disabled";
	153	+                break;
	154	+
	155	+                case 2:
	156	+                     enable_buttons();
	157	+                     currentLocation=9;
	158	+                     updateText(loc[9].description);
	159	+                     //location9 ();
	160	+                     var westButton=document.getElementById("west_button");
	161	+                     westButton.disabled="disabled";
	162	+                     var eastButton=document.getElementById("east_button");
	163	+                     eastButton.disabled="disabled";
	164	+                break;
	165	+
	166	+                case 9:
	167	+                     enable_buttons();
	168	+                     currentLocation=8;
	169	+                     updateText(loc[8].description);
	170	+                     //location8 ();
	171	+                     var southButton=document.getElementById("south_button");
	172	+                     southButton.disabled="disabled";
	173	+                     var eastButton=document.getElementById("east_button");
	174	+                     eastButton.disabled="disabled";
	175	+                break;
	176	+                default:    updateDisplay(blocked);
	177	+		}
	178	+            }
	179	+            
	180	+            else if(direction=="east" || direction=="e")
	181	+            {
	182	+                switch(currentLocation){
	183	+                case 0:
	184	+                     enable_buttons();
	185	+                     currentLocation=2;
	186	+                     updateText(loc[2].description);
	187	+                     //location2 ();
	188	+                     var northButton=document.getElementById("north_button");
	189	+                     northButton.disabled="disabled";
	190	+                     var southButton=document.getElementById("south_button");
	191	+                     southButton.disabled="disabled";
	192	+                     var eastButton=document.getElementById("east_button");
	193	+                     eastButton.disabled="disabled";
	194	+                break;
	195	+                    
	196	+                
	197	+                case 5:
	198	+                
	199	+                     enable_buttons();
	200	+                     currentLocation=4;
	201	+                     updateText(loc[4].description);
	202	+                     //location4 ();
	203	+                     var southButton=document.getElementById("south_button");
	204	+                     southButton.disabled="disabled";
	205	+                     var eastButton=document.getElementById("east_button");
	206	+                     eastButton.disabled="disabled";
	207	+                 break;
	208	+
	209	+                 case 4:
	210	+                     enable_buttons();
	211	+                     currentLocation=8;
	212	+                     updateText(loc[8].description);
	213	+                     //location8 ();
	214	+                     var southButton=document.getElementById("south_button");
	215	+                     southButton.disabled="disabled";
	216	+                     var eastButton=document.getElementById("east_button");
	217	+                     eastButton.disabled="disabled";
	218	+                break;
	219	+                     
	220	+                
	221	+                case 3:  
	222	+                     enable_buttons();
	223	+                     currentLocation=0;
	224	+                     updateText(loc[0].description);
	225	+                     //location0 ();
	226	+                break;     
	227	+                      
	228	+               default:    updateDisplay(blocked);
	229	+          	  }
	230	+            }
	231	+            else if(direction=="west" || direction=="w")
	232	+            {
	233	+                   switch(currentLocation){
	234	+                   case 0:
	235	+                     alert(direction);
	236	+                     enable_buttons();
	237	+                     currentLocation=3;
	238	+                     updateText(loc[3].description);
	239	+                     //location3 ();
	240	+                     var westButton=document.getElementById("west_button");
	241	+                     westButton.disabled="disabled";
	242	+                     var northButton=document.getElementById("north_button");
	243	+                     northButton.disabled="disabled";
	244	+                     var southButton=document.getElementById("south_button");
	245	+                     southButton.disabled="disabled";
	246	+                     break; 
	247	+                    
	248	+                    
	249	+                    case 4:
	250	+                
	251	+                     enable_buttons();
	252	+                     currentLocation=5
	253	+                     updateText(loc[5].description);
	254	+                     //location5 ();
	255	+                     var westButton=document.getElementById("west_button");
	256	+                     westButton.disabled="disabled";
	257	+                     var northButton=document.getElementById("north_button");
	258	+                     northButton.disabled="disabled";
	259	+                     var southButton=document.getElementById("south_button");
	260	+                     southButton.disabled="disabled"; 
	261	+                     break;
	262	+                     
	263	+                   
	264	+                   case 2:
	265	+                
	266	+                     enable_buttons();
	267	+                     currentLocation=0
	268	+                     updateText(loc[0].description);
	269	+                     //location0 ();
	270	+                 break;   
	271	+
	272	+                   case 8:
	273	+                
	274	+                     enable_buttons();
	275	+                     currentLocation=4
	276	+                     updateText(loc[4].description);
	277	+                     //location4 ();
	278	+                     var southButton=document.getElementById("south_button");
	279	+                     southButton.disabled="disabled"; 
	280	+                     break;                  
	281	+                     
	282	+                default:    updateDisplay(blocked);
	283	+           }
	284	+            
	285	+            //locationMessages();
	286	+            checkScore(); 
	287	+        }
	288	+        }
	289	+        function enable_buttons()
	290	+        {
	291	+            var westButton=document.getElementById("west_button");
	292	+            westButton.disabled="";
	293	+            var eastButton=document.getElementById("east_button");
	294	+            eastButton.disabled="";
	295	+            var northButton=document.getElementById("north_button");
	296	+            northButton.disabled="";
	297	+            var southButton=document.getElementById("south_button");
	298	+            southButton.disabled="";
	299	+            //copy
	300	+        }
	301	+        
	302	+              
	303	+       function btn_north_click () {      
	304	+          //var msg="You are facing a spaceship full of Daleks!!!";
	305	+          //updateText(msg);
	306	+          processLocation("north");
	307	+          //if (north===false){		
	308	+            // score = score + 5;              
	309	+            // north = true;
	310	+          //alert(msg);
	311	+       //}
	312	+       }
	313	+            
	314	+           
	315	+       function btn_south_click () {
	316	+           //var msg="You are facing the Tardis door!";
	317	+           //updateText(msg);
	318	+           processLocation("south");
	319	+           //if (south===false){		
	320	+            // score = score + 5;              
	321	+            // south = true;
	322	+          //}
	323	+          //alert=(msg);
	324	+       } 
	325	+
	326	+       
	327	+       function btn_east_click () {
	328	+          //var msg="There is a blackhole!";
	329	+          //updateText(msg);
	330	+          processLocation("east");
	331	+          //if (east===false){		
	332	+            // score = score + 5;              
	333	+            // east = true;
	334	+          //}
	335	+          //alert=(msg);
	336	+       } 
	337	+       
	338	+       function btn_west_click() {
	339	+          //var msg="You are facing a troop of cyberman! ";
	340	+          //updateText(msg);
	341	+          processLocation("west");
	342	+          //if (west===false){
	343	+            // score = score + 5;
	344	+            // west = true;
	345	+          //}
	346	+          //alert=(msg);
	347	+       } 
	348	+
	349	+       
	350	+
	351	+        function btn_score_click() {
	352	+             var msg= score;
	353	+             alert(msg);     
	354	+       }  
	355	+
	356	+       
	357	+       function updateText(msg){
	358	+           var ta = document.getElementById("taGame");
	359	+           ta.value = msg + "\n" + ta.value;
	360	+       }
	361	+
	362	+       function updateDisplay(msg){
	363	+           var ta = document.getElementById("taGame");
	364	+           ta.value = msg + "\n" + ta.value;
	365	+        }
	366	+        
	367	+       function checkScore()
	368	+       {
	369	+          var beenThere = false;
	370	+          for(var i=0; i<locationArray.length; i++)
	371	+          {
	372	+            if(locationArray[i]==currentLocation)
	373	+            {
	374	+                beenThere = true;
	375	+                i += 100;
	376	+            }
	377	+          }
	378	+          if(beenThere == false)
	379	+          {
	380	+              score += 5;
	381	+              locationArray.push(currentLocation);
	382	+          }
	383	+       }
